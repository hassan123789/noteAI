# note 特化型 AI 開発プロジェクト

## 🎯 プロジェクト概要

**目的**: 「フォロワーが少ないのに、スキが多い記事」のタイトルパターンを学習し、
「実力で売れるタイトル」を生成できる特化型 AI を作成する。

**コンセプト**: インフルエンサーパワーに頼らず、純粋に「タイトルの力」だけで読者を惹きつける法則を統計的に学習させる。

---

## 📊 調査結果：利用可能な API

### ✅ 確認済みエンドポイント

| API          | URL                                                                    | 取得可能データ                     |
| ------------ | ---------------------------------------------------------------------- | ---------------------------------- |
| ユーザー情報 | `https://note.com/api/v2/creators/{user_id}`                           | フォロワー数、記事数、プロフィール |
| 記事一覧     | `https://note.com/api/v2/creators/{user_id}/contents?kind=note&page=1` | タイトル、スキ数、有料フラグ       |
| 検索         | `https://note.com/api/v3/searches?q={keyword}&size=20`                 | キーワードに関連する記事・ユーザー |

### ⚠️ 注意事項・リスク

1. **利用規約**: note は自動アクセスを制限している可能性あり
2. **アクセス間隔**: 最低 2 秒以上空けること（サーバー負荷軽減）
3. **用途**: 学習・研究目的に限定すること
4. **ログインなし**: 未ログイン状態でアクセスし、アカウント BAN を防ぐ

---

## 🗂 ファイル構成

```
noteAI/
├── README.md                      # このファイル
├── collect_power_data.py          # Phase 1: データ収集（検索→収集→分析）
├── prepare_training_data.py       # Phase 2: 学習データ準備（クレンジング→JSONL）
├── train_model_colab.ipynb        # Phase 3: Google Colab学習ノートブック
├── inference.py                   # Phase 4: タイトル生成・評価ツール
│
├── note_power_data.csv            # 収集した生データ
├── training_data.jsonl            # 評価モデル用学習データ
├── generation_training.jsonl      # 生成モデル用学習データ
├── data_report.txt                # データ品質レポート
│
├── note_data_collector.py         # (旧) 基本収集スクリプト
├── test_api.py                    # API存在確認テスト
├── test_search_api.py             # 検索API調査
└── test_search_detail.py          # 検索API詳細調査
```

---

## 🚀 使い方

### Step 1: データ収集

```bash
python collect_power_data.py
```

### Step 2: 学習データ準備

```bash
python prepare_training_data.py
```

### Step 3: AI 学習（Google Colab）

1. `train_model_colab.ipynb` と `generation_training.jsonl` を Google Drive にアップロード
2. Colab で開き、ランタイムを GPU に設定
3. 上から順番にセルを実行

### Step 4: タイトル生成・評価

```bash
# タイトル生成
python inference.py --keyword "副業で月5万円"

# タイトル評価
python inference.py --analyze "【2025年最新】AIで稼ぐ方法"

# 対話モード
python inference.py --interactive
```

---

## 📈 開発ロードマップ

### Phase 1: データ収集 ✅ 完了

- [x] API エンドポイント調査
- [x] データ収集スクリプト作成
- [x] 「実力スコア」計算ロジック実装
- [x] 419 件のデータ収集完了

### Phase 2: データ整形 ✅ 完了

- [x] CSV データのクレンジング
- [x] 学習用フォーマット（JSONL）への変換
- [x] 「成功」「失敗」ラベル付け
- [x] タイトル特徴分析レポート

### Phase 3: AI 学習（Google Colab で実行）

- [x] Google Colab ノートブック作成
- [x] 日本語ベースモデル選定（rinna/japanese-gpt-neox-3.6b）
- [ ] LoRA でファインチューニング実行

### Phase 4: 推論・運用 ✅ 完了

- [x] タイトル生成機能（テンプレートベース）
- [x] タイトル評価（スコアリング）機能
- [x] コマンドラインツール

---

## 📊 収集データ統計

| 項目                            | 値     |
| ------------------------------- | ------ |
| 総記事数                        | 419 件 |
| ユニークユーザー                | 26 人  |
| 学習データ（クレンジング後）    | 273 件 |
| 成功ラベル（Power Score ≥ 1.0） | 39 件  |
| 最高 Power Score                | 22.02  |

### 成功タイトルの特徴（分析結果）

- **【】括弧使用**: 83.3%
- **数字使用**: 75.0%
- **金銭関連ワード**: 50.0%
- **平均文字数**: 49.3 文字

---

## 📐 技術仕様

### 実力スコア（Power Score）

```
実力スコア = スキ数 ÷ フォロワー数
```

| スコア   | 意味                              |
| -------- | --------------------------------- |
| > 1.0    | フォロワー数以上のスキ → 超優秀   |
| 0.5〜1.0 | フォロワーの半数以上がスキ → 優秀 |
| 0.1〜0.5 | 標準的                            |
| < 0.1    | フォロワー比でスキが少ない        |

### ターゲットデータ条件

- **フォロワー**: 10〜1000 人（インフルエンサー除外）
- **スキ数**: 多いほど良い
- **有料記事**: 優先的に収集

---

## 🔧 必要な環境

- Python 3.10 以上
- 必要パッケージ:
  ```
  pip install requests pandas
  ```

---

## 📝 今後の学習（このプロジェクトで得られるスキル）

1. **Web スクレイピング**: 内部 API 発見・活用
2. **データサイエンス**: 統計的分析、特徴量エンジニアリング
3. **機械学習**: ファインチューニング、LoRA
4. **自然言語処理**: トークナイザー、言語モデル

---

## ⚖️ 免責事項

このプロジェクトは学習・研究目的です。
note の利用規約を遵守し、サーバーに負荷をかけないよう配慮してください。
収集したデータの商用利用や公開は避けてください。
